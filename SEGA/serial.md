# SEGA官方串口协议连接游戏

使用SEGA官方的串口读卡器协议需要关闭segatools的读卡器hook，如果关闭hook以后游戏未成功连接到读卡器（比如某些地方设置错误），游戏便会断网，需要修好后重启游戏

## 读卡器端口配置

1. 首先确认你游玩的游戏的端口号，并记下
   | 游戏 | 端口号 |
   | --- | --- |
   |maimai DX | COM1 |
   |ONGEKI | COM1 |
   |CHUNITHM | COM4 |
2. 打开Windows的 *设备管理器*，默认情况下是 按类型列出设备。
   我们首先要确保对应游戏连接读卡器的端口号是否被其他设备占用。
   拔掉读卡器，找到 `端口` 并检查是否有设备占用端口。
   如果没有看到 `端口` 
   如果有的话
3. 插上读卡器，进入下图的选单(按容器列出设备)：
   
   ![devmgr0](<../assets/devmgr0.png>)

4. 找到 **HINATA** 
   
   ![devmgr1](<../assets/devmgr1.png>)

5. 右键点击 `USB 串行设备`，并依次选择 并依次选择 `属性 → 端口设置 → 高级`
   
   ![alt text](assets/devmgr2.png)

6. 将 `COM端口号` 修改为对应游戏所需要的端口号：

   
   以上是常用游戏的端口号，其他游戏如果使用amdaemon的话可以在`config_common.json`中查看

7. 修改完成后需要重新插拔一次读卡器
## 游戏本体配置